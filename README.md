# AI-Generated Text Detector

A PyTorch Lightning model designed to detect text generated by LLMs. This project fine-tunes the DistilBERT model on a dataset of AI-generated and human-written text, compiled from the following sources:

- [artem9k/ai-text-detection-pile](https://huggingface.co/datasets/artem9k/ai-text-detection-pile)
- [thedrcat/daigt-v2-train-dataset](https://www.kaggle.com/datasets/thedrcat/daigt-v2-train-dataset)
- [sunilthite/llm-detect-ai-generated-text-dataset](https://www.kaggle.com/datasets/sunilthite/llm-detect-ai-generated-text-dataset)

The trained model is deployed as a web application and API on Google Cloud Platform (GCP) Cloud Run.

## Requirements

- Python 3.11
- [Poetry](https://python-poetry.org/docs/#installation)

If deploying to GCP, you will also need:
- A [Google Cloud project](https://developers.google.com/workspace/guides/create-project) with [billing enabled](https://cloud.google.com/billing/docs/how-to/modify-project)
- [Google Cloud CLI](https://cloud.google.com/sdk/docs/install) installed and configured with your project


## Installation

Clone the repository and install the dependencies:

```bash
git clone https://github.com/hrbn/ai-text-detect.git
cd ai-text-detect
make install
```

> To see all available `make` commands, run `make help`.

## Training

To start training the model:

```
make train
```

Alternatively, you can run the trainer.py script with additional command-line options. To view available options, use the following command:

```
poetry run python trainer.py --help
```


## Deployment

To build the app to the `dist/` directory:

```
make clean
make build
```

Then, to seve the app locally:

```
make serve
```

And to deploy to Google Cloud Run:

```
make deploy
```


## Usage

Once the app is running, you can feed it text to evaluate via the web interface or API.

### Web Interface

Access the web interface at http://localhost:8080.

### API

Send a POST request with your text to the `/predict` endpoint. Example using curl:

```bash
curl -X POST http://localhost:8080/predict \
     -H "Content-Type: application/json" \
     -d '{"text": "Your text here"}'
```

